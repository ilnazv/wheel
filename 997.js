"use strict";(self.webpackChunkwheel=self.webpackChunkwheel||[]).push([[997],{997:(e,t,n)=>{n.r(t);var r=n(294),i=[{id:0,title:"item 1",weight:1,color:"blue"},{id:1,title:"item 2",weight:2,color:"green"},{id:2,title:"item 3",weight:3,color:"red"}];function c(e){var t,n=e.componentRef,c=(0,r.useState)(0),o=c[0],u=c[1],a=(0,r.useState)(),l=a[0],d=a[1],s=(0,r.useMemo)((function(){return 100/i.map((function(e){return e.weight})).reduce((function(e,t){return e+t}))}),[]),f=(0,r.useMemo)((function(){return 360/i.map((function(e){return e.weight})).reduce((function(e,t){return e+t}))}),[]),m=(0,r.useMemo)((function(){return"".concat(i.reduce((function(e,t,n,r){return"".concat(e,", ").concat(t.color," ").concat(n>0?s*r[n-1].weight:"0","% ").concat((n>0?s*r[n-1].weight:0)+s*t.weight,"%")}),"from ".concat(o,"deg")))}),[o]),v=(0,r.useRef)(),g=(0,r.useCallback)((function(){v.current&&(clearInterval(v.current),v.current=void 0),u(0),d(void 0)}),[]);(0,r.useEffect)((function(){return function(){g()}}),[]),(0,r.useImperativeHandle)(n,(function(){return{start:function(e){p(e)}}}),[]);var h=(0,r.useCallback)((function(e){var t;return i.reduce((function(n,r){var i=n+f*r.weight;if(!(e/i<1))return i;t=r.id}),0),t}),[]),p=(0,r.useCallback)((function(e){g();var t=Math.ceil(360*Math.random()),n=h(t),r=e;v.current=setInterval((function(){u((function(i){var c=Math.floor(i/360),o=e-c,u=h(360-i%360);return d(u),r!=o&&(o>0?r=o:360-i%360==t&&(r=0,d(n),clearInterval(v.current),v.current=void 0)),i+r}))}),10)}),[]);return r.createElement("div",{style:{display:"grid",placeContent:"center",overflow:"hidden",margin:"0",height:"100%",padding:"10em",background:"gainsboro"}},r.createElement("div",{style:{justifySelf:"center"}},"Winner is ",null===(t=i.find((function(e){return e.id===l})))||void 0===t?void 0:t.color),r.createElement("div",{style:{border:"20px solid white",borderRadius:"50%",background:"white",position:"relative"}},r.createElement("div",{style:{position:"absolute",left:"50%",transform:"translate(-50%, 0px) rotate(45deg)",border:"solid black",borderWidth:"0 3px 3px 0",display:"inline-block",padding:"3px"}}),r.createElement("div",{style:{padding:"8em",borderRadius:"50%",background:"radial-gradient(white calc(20% - 1px), transparent 20%), \n            conic-gradient(".concat(m,")")}})))}var o=n(745),u=document.getElementById("root");(0,o.s)(u).render(r.createElement((function(){var e=(0,r.useRef)(null);return r.createElement(r.Fragment,null,r.createElement("button",{onClick:function(){var t;return null===(t=e.current)||void 0===t?void 0:t.start(10)}},"Start"),r.createElement(c,{componentRef:e}))}),null))}}]);